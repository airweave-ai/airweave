import{c as b,r as x,j as e,a as d,C as I,b as R,B as T,X as L,u as $,d as F,t as M,g as Y,e as G,f as _,h as W,i as Z,U as H,k as X,L as Q,q as J,l as ee}from"./main-BEToz-TC.js";import{u as te}from"./use-keyboard-shortcut-DSl5K4r7.js";import{u as se,A as S}from"./api-form-CPp1CwpP.js";import{C as B,U as ae}from"./users-Dehov89l.js";import{I as U}from"./input-Dgezjod8.js";import{u as ne}from"./use-is-dark-pSwRFwVX.js";import"./tabs-DYoc-HWa.js";const re=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oe=b("chevron-left",re);const ie=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],le=b("cpu",ie);const ce=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],K=b("database",ce);const de=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ue=b("globe",de);const me=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],pe=b("rocket",me);const xe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],he=b("shield",xe);const ge=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ye=b("sparkles",ge);function ve(t){x.useEffect(()=>{const a=s=>{(typeof t=="function"?t():t)&&(s.preventDefault(),s.returnValue="")};return window.addEventListener("beforeunload",a),()=>window.removeEventListener("beforeunload",a)},[t])}const q=x.createContext(null);function E(){const t=x.useContext(q);if(!t)throw new Error("Steps compound components must be used within Steps");return t}function p({currentStep:t,onStepChange:a,totalSteps:s,children:o,className:n}){const r=i=>{i>=1&&i<=s&&a(i)},m=()=>r(t+1),u=()=>r(t-1);return e.jsx(q.Provider,{value:{currentStep:t,totalSteps:s,goToStep:r,nextStep:m,prevStep:u,isFirstStep:t===1,isLastStep:t===s},children:e.jsx("div",{className:d("w-full",n),children:o})})}function fe({className:t}){const{currentStep:a,totalSteps:s}=E();return e.jsx("div",{className:d("flex items-center gap-2",t),children:Array.from({length:s},(o,n)=>{const r=n+1,m=r<a,u=r===a;return e.jsx("div",{className:d("h-1.5 rounded-full transition-all duration-300",m?"bg-primary w-6":u?"bg-primary w-12":"bg-muted w-6")},n)})})}function be({className:t}){const{currentStep:a,totalSteps:s}=E();return e.jsxs("span",{className:d("text-muted-foreground text-sm",t),children:["Step ",a," of ",s]})}function je({step:t,children:a,className:s}){const{currentStep:o}=E();return t!==o?null:e.jsx("div",{className:d("animate-in fade-in-0 slide-in-from-right-4 duration-300",s),children:a})}function Ne({children:t,className:a}){return e.jsx("div",{className:d("flex items-center justify-between",a),children:t})}p.Indicator=fe;p.Counter=be;p.Content=je;p.Navigation=Ne;const we=[{value:"1",label:"1",description:"Solo"},{value:"2-5",label:"2-5",description:"Small team"},{value:"6-20",label:"6-20",description:"Growing startup"},{value:"21-100",label:"21-100",description:"Scale-up"},{value:"101-500",label:"101-500",description:"Mid-market"},{value:"500+",label:"500+",description:"Enterprise"}],Ce=[{value:"founder",label:"Founder/CEO",icon:ye},{value:"engineering",label:"Engineering",icon:I},{value:"data",label:"Data/AI",icon:K},{value:"product",label:"Product",icon:pe},{value:"devops",label:"DevOps",icon:B},{value:"other",label:"Other",icon:ae}],ke=[{value:"ai_startup",label:"AI/ML Startup",icon:le,description:"Building AI-powered products"},{value:"saas",label:"SaaS Platform",icon:B,description:"Cloud-based software services"},{value:"data_platform",label:"Data Platform",icon:K,description:"Data infrastructure & analytics"},{value:"dev_tools",label:"Developer Tools",icon:I,description:"Tools for developers"},{value:"fintech",label:"Fintech",icon:he,description:"Financial technology"},{value:"other",label:"Other",icon:ue,description:"Other industries"}],D=[{value:"developer",label:"Developer",price:"Free",period:"",description:"Perfect for personal agents and side projects. No credit card required.",features:["10 source connections","500 queries / mo","50K entities / mo","1 team member","Community support"],teamMemberLimit:1,recommended:!1},{value:"pro",label:"Pro",price:"$20",yearlyPrice:"$16",period:"per month",description:"Take your agent to the next level",features:["50 source connections","2K queries / mo","100K entities / mo","2 team members","Email support"],teamMemberLimit:2,recommended:!0},{value:"team",label:"Team",price:"$299",yearlyPrice:"$239",period:"per month",description:"For fast-moving teams that need scale and control",features:["1000 source connections","10K queries / mo","1M entities synced / mo","10 team members","Dedicated Slack support","Dedicated onboarding"],teamMemberLimit:10,recommended:!1},{value:"enterprise",label:"Enterprise",price:"Custom",period:"",description:"Tailored solutions for large organizations",features:["Unlimited source connections","Custom usage limits","Tailored onboarding","Dedicated priority support","Custom integrations (Optional)","On-premise deployment (Optional)","SLAs (Optional)"],teamMemberLimit:1e3,recommended:!1}],Se={organizationName:"",organizationSize:"",userRole:"",organizationType:"",subscriptionPlan:"pro",teamMembers:[],billingPeriod:"monthly"};function ze({value:t,onChange:a,onKeyPress:s}){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-normal",children:"What should we call your organization?"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose a name that represents your team or company"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(U,{type:"text",placeholder:"e.g., Acme AI",value:t,onChange:o=>a(o.target.value),onKeyDown:s,className:d("w-full px-4 py-3 text-lg","placeholder:text-muted-foreground/50"),autoFocus:!0}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Use letters, numbers, spaces, hyphens, and underscores only - You can always change this later"})]})]})}function Te({value:t,onChange:a}){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-normal",children:"How many people are in your organization?"}),e.jsx("p",{className:"text-muted-foreground",children:"This helps us recommend the right plan"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:we.map(s=>e.jsxs("button",{type:"button",onClick:()=>a(s.value),className:d("rounded-lg border p-6 text-center transition-all","hover:border-primary/50",t===s.value?"border-primary bg-primary/5":"border-border"),children:[e.jsx("div",{className:"mb-1 text-2xl font-light",children:s.label}),e.jsx("div",{className:"text-muted-foreground text-xs",children:s.description})]},s.value))})]})}function Oe({value:t,onChange:a}){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-normal",children:"What type of company are you?"}),e.jsx("p",{className:"text-muted-foreground",children:"This helps us understand your data integration needs"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:ke.map(s=>{const o=s.icon;return e.jsx("button",{type:"button",onClick:()=>a(s.value),className:d("group rounded-lg border p-6 text-left transition-all","hover:border-primary/50",t===s.value?"border-primary bg-primary/5":"border-border"),children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(o,{className:d("mt-0.5 h-6 w-6 flex-shrink-0 transition-colors",t===s.value?"text-primary":"text-muted-foreground group-hover:text-foreground")}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 font-medium",children:s.label}),e.jsx("div",{className:"text-muted-foreground text-xs",children:s.description})]})]})},s.value)})})]})}function Ae({value:t,onChange:a,billingPeriod:s,onBillingPeriodChange:o,authEnabled:n=!0}){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-normal",children:"Choose your plan"}),e.jsx("p",{className:"text-muted-foreground",children:"You can always upgrade or downgrade later"}),!n&&e.jsx("div",{className:"mt-2 rounded-lg border border-amber-500/20 bg-amber-500/10 p-3",children:e.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:[e.jsx("strong",{children:"Local Development Mode:"})," Billing is disabled. You'll go straight to the dashboard after setup."]})})]}),n&&e.jsx("div",{className:"relative flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-muted relative inline-flex items-center rounded-lg border p-1 shadow-sm",children:[e.jsx("div",{className:d("bg-blue/20 absolute top-1 h-[calc(100%-8px)] rounded-md shadow-sm transition-all duration-200",s==="monthly"?"left-1 w-[80px]":"left-[80px] w-[140px]")}),e.jsx("button",{type:"button",onClick:()=>o("monthly"),className:d("relative z-10 w-[80px] rounded-md px-4 py-2 text-sm transition-all",s==="monthly"?"text-foreground":"text-muted-foreground hover:text-foreground"),children:"Monthly"}),e.jsxs("button",{type:"button",onClick:()=>o("yearly"),className:d("relative z-10 flex w-[140px] items-center justify-center gap-2 rounded-md px-4 py-2 text-sm transition-all",s==="yearly"?"text-foreground":"text-muted-foreground hover:text-foreground"),children:["Yearly",e.jsx("span",{className:"bg-primary/10 text-primary rounded px-1.5 py-0.5 text-xs",children:"Save 20%"})]})]}),e.jsx("div",{className:d("absolute top-full left-1/2 mt-1 -translate-x-1/2 transition-opacity duration-200",s==="yearly"?"opacity-100":"pointer-events-none opacity-0"),children:e.jsx("p",{className:"text-muted-foreground text-center text-xs whitespace-nowrap",children:"After 12 months, your plan will renew at monthly rates."})})]})}),e.jsx("div",{className:"grid gap-4",children:D.map(r=>e.jsxs("button",{type:"button",onClick:()=>{if(r.value==="enterprise"){window.open("https://cal.com/lennert-airweave/airweave-demo","_blank","noopener,noreferrer");return}a(r.value)},className:d("relative rounded-lg border p-6 text-left transition-all","hover:border-primary/50",t===r.value?"border-primary bg-primary/5":"border-border"),children:[e.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 flex items-center gap-2",children:e.jsx("h3",{className:"text-lg font-medium",children:r.label})}),e.jsx("p",{className:"text-muted-foreground text-sm",children:r.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-light",children:n?s==="yearly"&&r.yearlyPrice?r.yearlyPrice:r.price:"Free"}),r.period&&!n&&e.jsx("div",{className:"text-muted-foreground text-xs",children:"local dev"}),r.period&&n&&e.jsx("div",{className:"text-muted-foreground text-xs",children:s==="yearly"&&r.yearlyPrice?"per month (billed yearly)":r.period}),r.recommended&&e.jsx("div",{className:"text-primary mt-1 text-xs",children:"Recommended"})]})]}),e.jsx("div",{className:"text-muted-foreground grid grid-cols-2 gap-x-4 gap-y-2 text-xs",children:r.features.map((m,u)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{className:"text-primary mr-2 h-3 w-3 flex-shrink-0"}),m]},u))})]},r.value))})]})}function Pe({teamMembers:t,onChange:a,subscriptionPlan:s,currentUserEmail:o}){const[n,r]=x.useState(""),[m,u]=x.useState("member"),[i,g]=x.useState(""),y=D.find(c=>c.value===s)?.teamMemberLimit||2,v=x.useCallback(c=>c?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)?o&&c.toLowerCase()===o.toLowerCase()?(g("You don't need to invite yourself - you'll be the owner"),!1):t.find(j=>j.email.toLowerCase()===c.toLowerCase())?(g("This email has already been added"),!1):t.length>=y-1?(g(`You've reached the maximum team size for the ${s} plan`),!1):(g(""),!0):(g("Please enter a valid email address"),!1):(g(""),!1),[t,y,s,o]),w=c=>{const h=c.target.value;if(r(h),!h){g("");return}/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)?v(h):g("")},N=()=>{if(!v(n))return;const c={email:n,role:m};a([...t,c]),r(""),u("member"),g("")},C=c=>{a(t.filter(h=>h.email!==c))},f=c=>{c.key==="Enter"&&n&&!i&&(c.preventDefault(),N())},k=n&&!i&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-normal",children:"Invite your team"}),e.jsx("p",{className:"text-muted-foreground",children:"Get your team onboard from day one"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-foreground text-sm font-medium",children:"Add team members"}),e.jsxs("p",{className:"text-muted-foreground mt-0.5 text-xs",children:["Your ",s," plan includes up to ",y," team members"]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(U,{type:"email",placeholder:"Email address",value:n,onChange:w,onBlur:()=>v(n),onKeyDown:f,className:d("h-8 px-3 text-sm",i&&n&&"border-destructive/50",t.length>=y-1&&"cursor-not-allowed opacity-50"),disabled:t.length>=y-1}),i&&n&&e.jsx("p",{className:"text-destructive/80 mt-1 text-xs",children:i})]}),e.jsxs("select",{value:m,onChange:c=>u(c.target.value),className:d("h-8 w-24 rounded-md border bg-transparent px-2 text-sm","focus:border-border focus:ring-0 focus:outline-none","transition-colors",t.length>=y-1&&"cursor-not-allowed opacity-50"),disabled:t.length>=y-1,children:[e.jsx("option",{value:"member",children:"Member"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx(T,{type:"button",size:"sm",onClick:N,disabled:!k||t.length>=y-1,className:"h-8",children:"Add"})]})}),t.length>0&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-foreground pt-2 text-sm font-medium",children:"Team members to invite"}),e.jsxs("p",{className:"text-muted-foreground mt-0.5 text-xs",children:[t.length," of ",y-1," team members added"]})]}),e.jsx("div",{className:"border-border divide-border divide-y rounded-lg border",children:t.map((c,h)=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm",children:c.email}),e.jsx("span",{className:d("rounded-full px-2 py-0.5 text-xs",c.role==="admin"?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"),children:c.role})]}),e.jsx("button",{type:"button",onClick:()=>C(c.email),className:"text-muted-foreground hover:text-foreground hover:bg-muted/50 rounded p-1 transition-colors",children:e.jsx(L,{className:"h-3.5 w-3.5"})})]},h))})]})]})]})}function Me({value:t,onChange:a}){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-normal",children:"What's your role?"}),e.jsx("p",{className:"text-muted-foreground",children:"We'll customize your experience based on your needs"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Ce.map(s=>{const o=s.icon;return e.jsxs("button",{type:"button",onClick:()=>a(s.value),className:d("group rounded-lg border p-6 text-center transition-all","hover:border-primary/50",t===s.value?"border-primary bg-primary/5":"border-border"),children:[e.jsx(o,{className:d("mx-auto mb-3 h-8 w-8 transition-colors",t===s.value?"text-primary":"text-muted-foreground group-hover:text-foreground")}),e.jsx("div",{className:"text-sm",children:s.label})]},s.value)})})]})}function _e(t){const a=$(),{getAccessTokenSilently:s}=F();return se({mutationFn:async()=>{const o=await s(),n={onboarding:{organizationSize:t.organizationSize,userRole:t.userRole,organizationType:t.organizationType,subscriptionPlan:t.subscriptionPlan,teamInvites:t.teamMembers,completedAt:new Date().toISOString()}},r=await G(o,{name:t.organizationName,description:`${t.organizationType} company with ${t.organizationSize} people`,org_metadata:n});if(!_.authEnabled)return{organization:r,redirectUrl:null};if(t.subscriptionPlan==="developer")return{organization:r,redirectUrl:null};try{const m=["pro","team"].includes(t.subscriptionPlan),u=t.billingPeriod==="yearly"&&m,{checkout_url:i}=await W(o,{plan:t.subscriptionPlan,success_url:`${window.location.origin}/billing/success?session_id={CHECKOUT_SESSION_ID}`,cancel_url:`${window.location.origin}/billing/cancel`},u);return{organization:r,redirectUrl:i}}catch{return console.warn("Billing setup failed, but organization was created"),{organization:r,redirectUrl:null}}},onSuccess:({organization:o,redirectUrl:n})=>{n?window.location.href=n:(M.success("Organization created successfully!"),a({to:"/$orgSlug",params:{orgSlug:Y(o)}}))},onError:o=>{M.error("Failed to complete setup. Please try again.",{description:o.message})}})}function Ee(t){const a=t.trim();return a.length<4?"Organization name must be at least 4 characters long":/^[a-zA-Z0-9\s\-_]+$/.test(a)?a.includes("  ")?"Organization name cannot contain consecutive spaces":a.startsWith(" ")||a.endsWith(" ")?"Organization name cannot start or end with spaces":null:"Organization name can only contain letters, numbers, spaces, hyphens, and underscores"}function Ie({formData:t,currentStep:a}){const s=x.useCallback(()=>{switch(a){case 1:return t.organizationName.trim().length>0;case 2:return t.organizationSize!=="";case 3:return t.userRole!=="";case 4:return t.organizationType!=="";case 5:return t.subscriptionPlan!=="";case 6:return!0;default:return!1}},[a,t]),o=x.useCallback(()=>{if(a===1){const n=Ee(t.organizationName);if(n)return M.error(n),!1}return s()},[a,t.organizationName,s]);return{isStepValid:s(),validateAndProceed:o}}const z=6;function De(){const t=$(),a=ne(),{user:s,getAccessTokenSilently:o}=F(),[n,r]=x.useState(1),[m,u]=x.useState(!1),[i,g]=x.useState(Se),{data:y=[]}=Z({queryKey:J.organizations.all,queryFn:async()=>{const l=await o();return ee(l)}}),v=y.length>0,w=_e(i),{isStepValid:N,validateAndProceed:C}=Ie({formData:i,currentStep:n});te({key:"Escape",onKeyDown:()=>t({to:"/"}),enabled:v}),ve(!v);const f=x.useCallback((l,A)=>{g(P=>({...P,[l]:A}))},[]),k=()=>{C()&&n<z&&(u(!0),setTimeout(()=>{r(l=>l+1),u(!1)},150))},c=()=>{n>1&&(u(!0),setTimeout(()=>{r(l=>l-1),u(!1)},150))},h=()=>{w.mutate()},O=l=>{if(l.key==="Enter"&&N){if(l.preventDefault(),!C())return;n<z?k():h()}},j=(l,A)=>{f(l,A),n>=2&&n<=5&&setTimeout(()=>{u(!0),setTimeout(()=>{r(P=>P+1),u(!1)},150)},200)},V={name:i.organizationName,description:`${i.organizationType} company with ${i.organizationSize} people`,org_metadata:{onboarding:{organizationSize:i.organizationSize,userRole:i.userRole,organizationType:i.organizationType,subscriptionPlan:i.subscriptionPlan,teamInvites:i.teamMembers}}};return e.jsx("div",{className:"bg-background flex min-h-screen items-center justify-center p-4 py-12",children:e.jsxs("div",{className:"relative w-full max-w-2xl",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("img",{src:a?"/airweave-logo-svg-white-darkbg.svg":"/airweave-logo-svg-lightbg-blacklogo.svg",alt:"Airweave",className:"mx-auto mb-2 h-8 w-auto",style:{maxWidth:"180px"}}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Build smarter agents"})]}),e.jsxs(p,{currentStep:n,onStepChange:r,totalSteps:z,children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsx(p.Indicator,{}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p.Counter,{}),v&&e.jsx("button",{onClick:()=>t({to:"/"}),className:"hover:bg-muted/50 rounded-lg p-2 transition-colors",title:"Close",children:e.jsx(L,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:d("min-h-[400px] transition-opacity duration-150",m?"opacity-0":"opacity-100"),children:[e.jsx(p.Content,{step:1,children:e.jsx(ze,{value:i.organizationName,onChange:l=>f("organizationName",l),onKeyPress:O})}),e.jsx(p.Content,{step:2,children:e.jsx(Te,{value:i.organizationSize,onChange:l=>j("organizationSize",l)})}),e.jsx(p.Content,{step:3,children:e.jsx(Me,{value:i.userRole,onChange:l=>j("userRole",l)})}),e.jsx(p.Content,{step:4,children:e.jsx(Oe,{value:i.organizationType,onChange:l=>j("organizationType",l)})}),e.jsx(p.Content,{step:5,children:e.jsx(Ae,{value:i.subscriptionPlan,onChange:l=>j("subscriptionPlan",l),billingPeriod:i.billingPeriod,onBillingPeriodChange:l=>f("billingPeriod",l),authEnabled:_.authEnabled})}),e.jsx(p.Content,{step:6,children:e.jsxs(S,{method:"POST",endpoint:"/organizations",body:V,onBodyChange:l=>{typeof l.name=="string"&&f("organizationName",l.name)},children:[e.jsx(S.Toggle,{className:"mb-4"}),e.jsx(S.FormView,{children:e.jsx(Pe,{teamMembers:i.teamMembers,onChange:l=>f("teamMembers",l),subscriptionPlan:i.subscriptionPlan,currentUserEmail:s?.email})}),e.jsx(S.CodeView,{})]})})]}),e.jsx(Re,{currentStep:n,totalSteps:z,isStepValid:N,isCreating:w.isPending,authEnabled:_.authEnabled,onBack:c,onNext:k,onComplete:h})]})]})})}function Re({currentStep:t,totalSteps:a,isStepValid:s,isCreating:o,authEnabled:n,onBack:r,onNext:m,onComplete:u}){return e.jsxs("div",{className:"relative mt-12 flex items-center justify-between",children:[t>1&&e.jsxs(T,{variant:"ghost",onClick:r,children:[e.jsx(oe,{className:"mr-2 h-4 w-4"}),"Back"]}),t===1&&e.jsx(H,{variant:"standalone"}),t<a?e.jsxs(T,{onClick:m,disabled:!s,className:"ml-auto",children:["Continue",e.jsx(X,{className:"ml-2 h-4 w-4"})]}):e.jsx(T,{onClick:u,disabled:!s||o,className:"ml-auto",children:o?e.jsxs(e.Fragment,{children:[n?"Complete Setup":"Creating Organization",e.jsx(Q,{className:"ml-2 h-4 w-4 animate-spin"})]}):e.jsxs(e.Fragment,{children:[n?"Complete Setup":"Create Organization",e.jsx(R,{className:"ml-2 h-4 w-4"})]})})]})}export{De as component};
